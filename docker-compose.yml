services:
  plocate-ui:
    build: .
    container_name: plocate-ui
    ports:
      - "8080:8080"
    volumes:
      # Config directory (writable so the app can persist index changes)
      # - plocate-config:/app/config
      - /mnt/c/Users/SudharsanRangarajan/plocate/appdata/plocate-ui/config:/app/config
      - /mnt/c/Users/SudharsanRangarajan/plocate/appdata/plocate-ui/db:/app/data

      # Database location (place on cache drive for better performance)
      # - plocate-data:/app/data

      # Paths to index (modify these to match your Unraid shares)
      - /mnt/c/Users/SudharsanRangarajan/Downloads:/mnt/Downloads:ro
      - /mnt/c/Users/SudharsanRangarajan/Documents:/mnt/Documents:ro
      - /mnt/c/Users/SudharsanRangarajan/plocate:/mnt/cache:rw
      # - /mnt/disk1:/mnt/disk1:ro
      # Add more paths as needed
    environment:
      - TZ=America/New_York
      # Optional: Override config via environment variables
      # - PORT=8080
      # - INDEX_INTERVAL=0 */6 * * *
    restart: unless-stopped
    # Run with host network mode for better performance (optional)
    # network_mode: host

volumes:
  plocate-config:
  plocate-data:
